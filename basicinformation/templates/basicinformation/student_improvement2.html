{%load staticfiles%}
{%load improvementTag%}
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script>$('#loadingstudentImprovement1').hide();</script>
<br>
<br>
{%if overall == None %}
<div class="alert alert-warning">
<h2 style='text-align:center;'> Not enough data to show your progress chart, please take a few more tests. </h2>
</div>
{%endif%}
    <script>
$(document).ready(function () {
	{% for k,v in overall.items|sort %}
	var ctx{{forloop.counter}} = document.getElementById("myChart{{forloop.counter}}");
	var myChart = new Chart(ctx{{forloop.counter}}, {
            type: 'line',
            data: {
		    labels: [{%for date in v.time%}'{{date}}',{%endfor%}],
                datasets: [{
			label:'Accuracy in category - {{k}} ' ,



			data: [{%for percent in v.percent%}{{percent}},{%endfor%}],
			backgroundColor: [
                        'rgba(255, 99, 132, 0.4)',
		                                      ],
                    borderColor: [ 'rgba(255,99,132,1)',
		                                            ],




                                  borderWidth: 3



		}]
            },

            options: {   responsive: true,
		    maintainAspectRatio: false,
		    
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero:true,

                        }
                    }]
                }
            }
        });
{%endfor%}
        });


</script>


	{% for k,v in overall.items %}
	    <div class='col-md-3 col-xs-12' >
		    <h4 style="text-align:left;"> Progress according to accuracy-<strong> {{k}}</strong> </h4>
		    <div>
	<canvas  id="myChart{{forloop.counter}}"  width="250" height="300" >
</canvas>
		    </div>
	
	    </div>
		{%endfor%}
